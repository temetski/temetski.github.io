<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title> Length and Area Estimation | Damian Dailisan </title> <meta name="author" content="Damian Dailisan"> <meta name="description" content="" a cornucopia of code used for physics classes.> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link defer rel="stylesheet" href="/assets/css/scholar-icons.css?62b2ac103a88034e6882a5be5f3e2772"> <link defer rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons&amp;display=swap"> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?591dab5a4e56573bf4ef7fd332894c99" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.jpeg?645879979159fc2c9e547880872ce470"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="http://temetski.github.io/blog/2014/length-and-area-estimation/"> <script src="/assets/js/theme.js?9a0c749ec5240d9cda97bc72359a72c0"></script> <link defer rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?5847e5ed4a4568527aa6cfab446049ca" media="none" id="highlight_theme_dark"> <script>
    initTheme();
  </script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top" role="navigation"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"> <span class="font-weight-bold">Damian</span> Dailisan </a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about </a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/">blog </a> </li> <li class="nav-item "> <a class="nav-link" href="/publications/">publications </a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories </a> </li> <li class="nav-item "> <a class="nav-link" href="/cv/">cv </a> </li> <li class="nav-item"> <button id="search-toggle" title="Search" onclick="openSearchModal()"> <span class="nav-link">ctrl k <i class="ti ti-search"></i></span> </button> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="ti ti-sun-moon" id="light-toggle-system"></i> <i class="ti ti-moon-filled" id="light-toggle-dark"></i> <i class="ti ti-sun-filled" id="light-toggle-light"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5" role="main"> <div class="post"> <header class="post-header"> <h1 class="post-title">Length and Area Estimation</h1> <p class="post-meta"> Created on September 03, 2014 by Damian </p> <p class="post-tags"> <a href="/blog/2014"> <i class="fa-solid fa-calendar fa-sm"></i> 2014 </a>   ·   <a href="/blog/tag/image-processing"> <i class="fa-solid fa-hashtag fa-sm"></i> Image Processing</a> </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Measurements play a huge role in any scientific endeavor. But sometimes, measuring objects is a physically difficult task. Those objects may be too small, or too big, or we may simply not have any analytic solution to the measurement of that object. Luckily for us, as long as we have an image of that object with a corresponding scale, we can easily get a good enough measurement of that object.</p> <p>For example, we want to measure the area of a square image:</p> <p style="text-align: center;"><img src="http://3.bp.blogspot.com/-ZLAVJcMVlt8/VAVHZ2ex_aI/AAAAAAAAALE/qRi0xUVQq2Q/s1600/square.bmp" alt="a square image"></p> <p>What we have is a 300x300 square surrounded by a black border. Since we know that this <em>should</em> have an area of 90000, we should be able to recover that number with our code.</p> <p>Our code is based on <a href="http://en.wikipedia.org/wiki/Green's_theorem" rel="external nofollow noopener" target="_blank">Green’s Theorem</a>, which allows us to measure the area of a region in a 2d plane, provided that we know the contour of that region. Using the <code class="language-plaintext highlighter-rouge">canny</code> edge detection algorithm in scilab, and applying Green’s Theorem:</p> <div class="language-matlab highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">im</span> <span class="o">=</span> <span class="nb">imread</span><span class="p">(</span><span class="s1">'square.bmp'</span><span class="p">)</span>
<span class="n">im_edge</span> <span class="o">=</span> <span class="n">edge</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="s1">'canny'</span><span class="p">);</span>
<span class="nb">imshow</span><span class="p">(</span><span class="n">im_edge</span><span class="p">);</span>
<span class="p">[</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="nb">find</span><span class="p">(</span><span class="n">im_edge</span><span class="o">==</span><span class="c1">%t);</span>
<span class="n">xo</span> <span class="o">=</span> <span class="nb">floor</span><span class="p">(</span><span class="nb">mean</span><span class="p">(</span><span class="n">x</span><span class="p">));</span> <span class="n">yo</span> <span class="o">=</span> <span class="nb">floor</span><span class="p">(</span><span class="nb">mean</span><span class="p">(</span><span class="n">y</span><span class="p">));</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">xo</span><span class="p">;</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="n">yo</span><span class="p">;</span>
<span class="n">theta</span> <span class="o">=</span> <span class="nb">atan</span><span class="p">(</span><span class="n">y</span><span class="p">,</span> <span class="n">x</span><span class="p">);</span>

<span class="p">[</span><span class="n">B</span><span class="p">,</span> <span class="n">k</span><span class="p">]</span> <span class="o">=</span> <span class="n">gsort</span><span class="p">(</span><span class="n">theta</span><span class="p">,</span> <span class="s1">'g'</span><span class="p">,</span> <span class="s1">'i'</span><span class="p">);</span>
<span class="n">x</span> <span class="o">=</span> <span class="n">x</span><span class="p">(</span><span class="n">k</span><span class="p">);</span> <span class="n">y</span> <span class="o">=</span> <span class="n">y</span><span class="p">(</span><span class="n">k</span><span class="p">);</span>

<span class="p">//</span><span class="n">GREENS</span> <span class="n">THEOREM</span>
<span class="n">A</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">:</span><span class="nb">length</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="mi">1</span>
    <span class="n">A</span> <span class="o">=</span> <span class="n">A</span> <span class="o">+</span> <span class="mf">0.5</span><span class="o">*</span><span class="p">(</span><span class="n">x</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">*</span><span class="n">y</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">-</span> <span class="n">y</span><span class="p">(</span><span class="n">i</span><span class="p">)</span><span class="o">*</span><span class="n">x</span><span class="p">(</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">))</span>
<span class="k">end</span>
</code></pre></div></div> <p>We find that the area given by the code is 89922 square pixels! That’s about 99.913% accuracy, not bad for a line of code that takes milli(maybe even micro)-seconds to run.</p> <p>Now that we have our code, let’s test it on a real live “object”. The compass square! (Otherwise known as North, East, West, Timog Ave.)</p> <p style="text-align: center;"><img src="http://1.bp.blogspot.com/-J73JwnaQjbk/VAc2n-_iW4I/AAAAAAAAALo/_oED1-smKdw/s1600/map.png" alt="map"></p> <p>We cannot directly use the image from Google Maps. So let us turn it into a black and white image, with our area of interest as a white box.</p> <p style="text-align: center;"><img src="http://4.bp.blogspot.com/-JyfsEWA6E_I/VAc2nuV6dcI/AAAAAAAAALk/YSS0YnjuHqc/s1600/map.bmp" alt="mask"></p> <p>Note that 108 pixels : 500 meters.</p> <p>Running our code gives us 4380326.2 square meters. Analytical estimates obtained by measuring the side of the square in GIMP gives us 4282600.3 square meters. That’s a difference of roughly 2.4%, which may be due to the shape not being a perfect square. Using another image processing software, <code class="language-plaintext highlighter-rouge">ImageJ</code>, we get 4579482.9 square meters for the same image. Its a little off, but still within less than 5% different with our own measurements, so I think that our code was successful!</p> <p>The only thing “difficult” about the experiment is the creation of the black and white image. I think something like a polygon tool from <code class="language-plaintext highlighter-rouge">ImageJ</code> would be better in creating the bounded area.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">Enjoy Reading This Article?</h2> <p class="mb-2">Here are some more articles you might like to read next:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2016/complexity-science/">Is complexity science... science?</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2016/evolution-of-a-network/">Evolution of a network</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2016/earthquake-networks/">Earthquake Networks</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2016/erdos-renyi-network-metrics/">Erdos-Renyi Network Metrics</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/blog/2016/agent-based-models/">Agent Based Models</a> </li> </div> </div> <footer class="fixed-bottom" role="contentinfo"> <div class="container mt-0"> © Copyright 2025 Damian Dailisan. © Copyright 2025 {% site.first_name %} {% site.last_name %}. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@5.0.0/imagesloaded.pkgd.min.js" integrity="sha256-htrLFfZJ6v5udOG+3kNLINIKh2gvoKqwEhHYfTTMICc=" crossorigin="anonymous"></script> <script defer src="/assets/js/masonry.js?a0db7e5d5c70cc3252b3138b0c91dcaf" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.1.0/dist/medium-zoom.min.js" integrity="sha256-ZgMyDAIYDYGxbcpJcfUnYwNevG/xi9OHKaR/8GK+jWc=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?85ddb88934d28b74e78031fd54cf8308"></script> <script src="/assets/js/no_defer.js?2781658a0a2b13ed609542042a859126"></script> <script defer src="/assets/js/common.js?e0514a05c5c95ac1a93a8dfd5249b92e"></script> <script defer src="/assets/js/copy_code.js?12775fdf7f95e901d7119054556e495f" type="text/javascript"></script> <script defer src="/assets/js/jupyter_new_tab.js?d9f17b6adc2311cbabd747f4538bb15f"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.2/es5/tex-mml-chtml.js" integrity="sha256-MASABpB4tYktI2Oitl4t+78w/lyA+D7b/s9GEP0JOGI=" crossorigin="anonymous"></script> <script src="/assets/js/mathjax-setup.js?a5bb4e6a542c546dd929b24b8b236dfd"></script> <script defer src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6" crossorigin="anonymous"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-B7FP4W3KF7"></script> <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() {
      dataLayer.push(arguments);
    }
    gtag('js', new Date());

    gtag('config', 'G-B7FP4W3KF7');
  </script> <script defer src="/assets/js/google-analytics-setup.js?12374742c4b1801ba82226e617af7e2d"></script> <script defer src="/assets/js/progress-bar.js?2f30e0e6801ea8f5036fa66e1ab0a71a" type="text/javascript"></script> <script type="module" src="/assets/js/search/ninja-keys.min.js?a3446f084dcaecc5f75aa1757d087dcf"></script> <ninja-keys hidebreadcrumbs noautoloadmdicons placeholder="Type to start searching"></ninja-keys> <script src="/assets/js/search-setup.js?6c304f7b1992d4b60f7a07956e52f04a"></script> <script src="/assets/js/search-data.js"></script> <script src="/assets/js/shortcut-key.js?6f508d74becd347268a7f822bca7309d"></script> </body> </html>